import{r as b,o as c,c as f,a as e,d as r,v as p,e as n}from"./index-87e0135f.js";import{n as i}from"./notyf-6eadf77a.js";import{r as m}from"./reinit-5dd860ba.js";const g={class:"w-full p-6 mx-auto"},x={class:"flex flex-wrap -mx-3"},v={class:"w-full max-w-full px-3"},w={class:"relative flex flex-col h-full min-w-0 break-words bg-white border-0 shadow-soft-xl rounded-2xl bg-clip-border"},h={class:"flex-auto p-4"},k={class:"flex flex-col pl-0 mb-0 rounded-lg"},y={class:"relative block px-0 py-2 bg-white border-0 rounded-t-lg text-inherit"},_={class:"min-h-6 mb-0.5 block pl-0"},S=["disabled"],D={class:"flex flex-col pl-0 mb-0 rounded-lg"},B=["disabled"],d="DarkModeSetting",V={__name:"darkmode",setup(C){const a=new CacheDB("CyanAcc","CyanAccDB"),o=b({auto:!0,auto_mode:"auto",force_mode:"light"}),u=async()=>{await a.write(d,JSON.stringify(o.value)),await m()?i.success("设置已保存并应用"):i.info("设置已保存，但尚未应用")};return(async()=>{const s=JSON.parse(await a.read(d)||"{}");Object.keys(s).length!==0?o.value=s:await a.write(d,JSON.stringify(o.value))})(),(s,t)=>(c(),f("div",g,[e("div",x,[e("div",v,[e("div",w,[t[9]||(t[9]=e("div",{class:"p-4 pb-0 mb-0 bg-white border-b-0 rounded-t-2xl"},[e("h6",{class:"mb-0"},"暗色模式 / DarkMode")],-1)),e("div",h,[e("ul",k,[e("li",y,[e("div",_,[r(e("input",{class:"mt-0.54 rounded-10 duration-250 ease-soft-in-out after:rounded-circle after:shadow-soft-2xl after:duration-250 checked:after:translate-x-5.25 h-5 relative float-left ml-auto w-10 cursor-pointer appearance-none border border-solid border-gray-200 bg-slate-800/10 bg-none bg-contain bg-left bg-no-repeat align-top transition-all after:absolute after:top-px after:h-4 after:w-4 after:translate-x-px after:bg-white after:content-[''] checked:border-slate-800/95 checked:bg-slate-800/95 checked:bg-none checked:bg-right",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=l=>o.value.auto=l)},null,512),[[p,o.value.auto]]),t[4]||(t[4]=e("label",{class:"label-text"},"自动选择暗色/亮色模式",-1))])]),r(e("select",{disabled:!o.value.auto,"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.auto_mode=l),class:"w-full px-3 py-2 mt-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},t[5]||(t[5]=[e("option",{value:"auto"},"根据浏览器/系统暗色自动选择",-1),e("option",{value:"time"},"根据当地时间自动选择（默认为当地时间18点-次日6点为暗色）",-1)]),8,S),[[n,o.value.auto_mode]])]),t[7]||(t[7]=e("h6",{class:"mt-6 font-bold leading-tight uppercase text-xs text-slate-500"},"手动选择",-1)),e("ul",D,[r(e("select",{disabled:o.value.auto,"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.force_mode=l),class:"w-full px-3 py-2 mt-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},t[6]||(t[6]=[e("option",{value:"dark"},"暗色",-1),e("option",{value:"light"},"亮色",-1)]),8,B),[[n,o.value.force_mode]])]),t[8]||(t[8]=e("br",null,null,-1)),e("button",{onClick:t[3]||(t[3]=l=>u()),type:"button",class:"apply-btn"},"保存")])])])])]))}};export{V as default};
